"""
Internationalization (i18n) module for LIHC Platform
Provides multi-language support with Chinese and English
"""

class I18nManager:
    """Multi-language support manager"""
    
    def __init__(self, default_language='zh'):
        self.current_language = default_language
        self.translations = self._load_translations()
    
    def _load_translations(self):
        """Load translation dictionaries"""
        return {
            'zh': {
                # Navigation
                'nav_overview': '概览',
                'nav_demo': 'Demo结果', 
                'nav_upload': '数据上传',
                'nav_linchpins': 'Linchpin靶点',
                'nav_networks': '网络分析',
                'nav_multidim': '多维度分析',
                'nav_survival': '生存分析',
                'nav_multiomics': '多组学整合',
                'nav_closedloop': 'ClosedLoop分析',
                'nav_templates': '数据模板',
                
                # Overview page
                'overview_title': 'LIHC多维度预后分析系统',
                'overview_subtitle': '基于多维度网络分析的肝癌预后分析平台',
                'overview_description': '通过五维度肿瘤微环境分析发现关键治疗靶点',
                'from_biomarker_to_targets': '从生物标志物列表到战略靶点',
                'platform_intro': '将传统的并行分析转化为整合的关键节点发现。我们的平台通过同时分析5个生物学维度来识别最关键的治疗靶点。',
                'explore_demo': '探索Demo',
                'upload_data': '上传数据',
                
                # Scoring indicators
                'scoring_guide': '评分指标快速指南',
                'scoring_intro': '平台使用三个核心指标评估基因作为治疗靶点的潜力：',
                'linchpin_score': 'Linchpin Score',
                'linchpin_desc': '综合评分 (0-1)',
                'linchpin_detail': '整合多维度分析结果的最终评分，分数越高表示作为治疗靶点的潜力越大',
                'prognostic_score': 'Prognostic Score', 
                'prognostic_desc': '预后评分 (0-1)',
                'prognostic_detail': '基于Cox回归分析，反映基因表达与患者生存期的关联强度',
                'network_hub_score': 'Network Hub Score',
                'network_desc': '网络中心性评分 (0-1)',
                'network_detail': '在分子相互作用网络中的重要程度，反映基因的连接和调控影响力',
                'usage_tip': '使用提示',
                'usage_detail': '在Demo页面查看详细的计算方法和数据来源说明',
                
                # Platform capabilities
                'platform_capabilities': '平台能力',
                'multidim_analysis': '多维度分析',
                'multidim_desc': '同时分析肿瘤、免疫、基质、ECM和细胞因子维度',
                'network_integration': '网络整合',
                'network_integration_desc': '跨维度网络分析用于中心节点识别',
                'linchpin_scoring': 'Linchpin评分',
                'linchpin_scoring_desc': '治疗优先级的复合评分系统',
                
                # Analysis workflow
                'analysis_workflow': '分析工作流程',
                'data_upload': '数据上传',
                'data_upload_desc': '临床、表达和突变数据',
                'multidim_analysis_step': '多维度分析',
                'multidim_desc_step': '5个维度的并行分析',
                'network_integration_step': '网络整合',
                'network_desc_step': '跨维度网络构建',
                'linchpin_discovery': 'Linchpin发现',
                'linchpin_desc_step': '复合评分和排序',
                
                # Demo page
                'demo_title': 'Demo分析结果',
                'demo_subtitle': '展示平台能力的综合TCGA-LIHC分析',
                'top_linchpin_molecules': 'Top Linchpin分子',
                'no_linchpin_results': '没有可用的linchpin分析结果。运行完整的流程来查看结果。',
                'scoring_explanation': '评分指标说明',
                'calculation_formula': '计算公式',
                'data_source': '数据来源',
                'interpretation_guide': '分数解读指南',
                'score_range': '分数范围: 0.0 - 1.0 (分数越高，作为治疗靶点的潜力越大)',
                'excellent_target': '优秀靶点 (≥0.8): 强烈推荐，具有强证据支持',
                'good_target': '良好靶点 (0.6-0.8): 值得关注，证据较强',
                'potential_target': '潜在靶点 (0.4-0.6): 需要进一步验证',
                'insufficient_evidence': '证据不足 (<0.4): 不推荐作为治疗靶点',
                
                # Multi-dimensional analysis
                'multidim_analysis_title': '多维度分析',
                'tumor_cells': '肿瘤细胞',
                'immune_cells': '免疫细胞', 
                'stromal_cells': '基质细胞',
                'ecm': 'ECM',
                'cytokines': '细胞因子',
                'genes': '基因',
                'factors': '因子',
                'signals': '信号',
                'oncogenes_suppressors': '癌基因和抑制基因',
                'immune_infiltration': '免疫浸润',
                'microenvironment': '微环境',
                'extracellular_matrix': '细胞外基质',
                'signaling_molecules': '信号分子',
                
                # Network analysis
                'network_analysis': '网络分析',
                'network_nodes': '网络节点',
                'connected_genes': '连接基因',
                'hub_genes': '中心基因', 
                'high_centrality': '高中心性',
                'modules': '模块',
                'functional_clusters': '功能簇',
                
                # Survival analysis
                'survival_analysis': '生存分析',
                'target_genes': '目标基因',
                'available_for_analysis': '可用于分析',
                'patient_cohort': '患者队列',
                'tcga_samples': 'TCGA-LIHC样本',
                'analysis_types': '分析类型',
                'os_rfs_endpoints': 'OS和RFS终点',
                'kaplan_meier': 'Kaplan-Meier',
                'with_logrank_test': '配合Log-rank检验',
                'functional_features': '功能特色',
                'survival_features_desc': '为目标基因生成Kaplan-Meier生存曲线，支持总生存期(OS)和无复发生存期(RFS)分析。',
                'analysis_method': '分析方法',
                'analysis_method_desc': '根据基因表达中位数分组，Log-rank检验比较组间差异，P<0.05为统计显著。',
                'try_survival_analysis': '试试生存分析',
                
                # Upload page
                'upload_title': '上传您的数据',
                'upload_subtitle': '上传您的LIHC数据集进行个性化分析',
                'data_requirements': '数据要求',
                'clinical_data': '临床数据',
                'clinical_desc': '患者生存和临床信息 (必需)',
                'expression_data': '表达数据',
                'expression_desc': '基因表达矩阵 (必需)',
                'mutation_data': '突变数据',
                'mutation_desc': '体细胞突变信息 (可选)',
                'drag_drop_files': '拖拽文件到此处或点击浏览',
                'supported_formats': '支持: CSV, TSV, Excel, ZIP',
                'run_analysis': '运行分析',
                
                # Templates page
                'templates_title': '数据模板',
                'templates_subtitle': '下载模板以正确格式化您的数据',
                'clinical_template': '临床数据模板',
                'clinical_template_desc': '患者生存和临床信息',
                'expression_template': '表达数据模板', 
                'expression_template_desc': '基因表达矩阵',
                'mutation_template': '突变数据模板',
                'mutation_template_desc': '体细胞突变信息',
                'download': '下载',
                'required_fields': '必需字段',
                'format_desc': '格式: 基因为行，样本为列',
                
                # Charts and visualization
                'score_comparison_analysis': '评分对比分析',
                'professional_chart_desc': '专业的图表对比分析，提供更直观的数据展示',
                'score_comparison_bar': '评分对比柱状图',
                'multidim_radar': '多维度雷达图',
                'score_correlation_scatter': '评分相关性散点图',
                'multidim_analysis_charts': '多维度分析图表',
                'comprehensive_viz': '五个生物学维度的综合可视化',
                'dimension_distribution': '维度分布',
                'dimension_comparison': '维度对比',
                'network_analysis_charts': '网络分析图表',
                'interactive_network_viz': '交互式网络可视化和中心性分析',
                'centrality_distribution': '中心性分布',
                
                # Gene selection (Survival Analysis)
                'gene_selection': '基因选择',
                'target_gene': '目标基因',
                'dataset': '数据集',
                'generate_survival_curves': '生成生存曲线',
                'grouping_strategy': '分组策略',
                'grouping_desc': '根据选定基因的中位表达水平将患者分为高表达组和低表达组。',
                'analysis_endpoints': '分析终点',
                'overall_survival': '总生存期 (OS)',
                'os_desc': '从诊断到死亡的时间',
                'recurrence_free_survival': '无复发生存期 (RFS)', 
                'rfs_desc': '疾病复发时间',
                'kaplan_meier_method': 'Kaplan-Meier方法',
                'km_desc': '考虑截尾观察的非参数生存概率估计。',
                'logrank_test': 'Log-rank检验',
                'logrank_desc': '表达组间生存曲线的统计比较 (p < 0.05认为显著)。',
                
                # Analysis results
                'analysis_results': '分析结果',
                'kaplan_meier_curves': 'Kaplan-Meier生存曲线',
                'interpretation_guide_title': '解读指南',
                'red_curve': '红色曲线',
                'high_expression_group': '高表达组',
                'blue_curve': '蓝色曲线', 
                'low_expression_group': '低表达组',
                'p_less_005': 'P < 0.05',
                'statistically_significant': '统计学显著差异',
                'higher_curve': '较高曲线',
                'better_survival': '更好的生存概率',
                'clinical_interpretation': '临床解读',
                'prognostic_value': '预后价值',
                'therapeutic_implications': '治疗意义',
                
                # Status indicators
                'total_samples': '总样本数',
                'high_expression': '高表达',
                'low_expression': '低表达',
                'logrank_pvalue': 'Log-rank p值',
                'result': '结果',
                'significant': '显著',
                'not_significant': '不显著',
                'analysis_error': '分析错误',
                'analysis_failed': '分析失败',
                
                # Common terms
                'gene': '基因',
                'score': '评分',
                'samples': '样本',
                'months': '月',
                'probability': '概率',
                'time': '时间',
                'frequency': '频率',
                'distribution': '分布',
                'comparison': '对比',
                'correlation': '相关性',
                'analysis': '分析',
                'visualization': '可视化',
                'interactive': '交互式',
                'professional': '专业',
                'comprehensive': '综合',
                'multiple_formats': '多种格式支持',
                'real_time_validation': '实时验证',
                'quick_navigation': '快速导航',
                
                # Multi-omics integration (新功能)
                'multiomics_integration': '多组学数据整合',
                'multiomics_desc': '整合RNA-seq、CNV、突变和甲基化数据进行综合分析',
                'integration_methods': '整合方法',
                'concatenation': '简单拼接',
                'concat_desc': '直接合并所有组学特征',
                'snf': '相似性网络融合',
                'snf_desc': '基于样本相似性的网络整合方法',
                'mofa': '多组学因子分析',
                'mofa_desc': '发现跨组学的潜在因子',
                'cnv_data': 'CNV数据',
                'methylation_data': '甲基化数据',
                'feature_importance': '特征重要性',
                'integrated_features': '整合特征',
                'omics_types': '组学类型',
                
                # ClosedLoop analysis (新功能)
                'closedloop_analysis': 'ClosedLoop因果分析',
                'closedloop_desc': '基于多证据的因果推理识别癌症驱动基因',
                'evidence_types': '证据类型',
                'differential_expression': '差异表达',
                'survival_association': '生存关联',
                'cnv_driver': 'CNV驱动',
                'methylation_regulation': '甲基化调控',
                'mutation_frequency': '突变频率',
                'causal_score': '因果评分',
                'causal_genes': '因果基因',
                'evidence_chain': '证据链',
                'causal_network': '因果网络',
                'high_confidence': '高置信度',
                'medium_confidence': '中置信度',
                'low_confidence': '低置信度',
                'validation_metrics': '验证指标',
                'bootstrap_stability': 'Bootstrap稳定性',
                'cross_validation': '交叉验证',
                'pathway_enrichment': '通路富集',
                
                # Additional multi-omics terms
                'simple_fast': '简单快速',
                'preserves_features': '保留所有特征',
                'high_dimensional': '高维输出',
                'network_based': '基于网络的整合',
                'robust_noise': '对噪声稳健',
                'captures_similarity': '捕获样本相似性',
                'factor_based': '基于因子的方法',
                'dimension_reduction': '降维',
                'interpretable': '可解释的因子',
                'rna_seq_desc': 'RNA测序基因表达谱',
                'cnv_desc': '拷贝数变异数据',
                'mutation_desc': '体细胞突变谱',
                'methylation_desc': 'DNA甲基化水平',
                'feature_importance_desc': '整合特征按其对模型的贡献进行排名',
                
                # Additional ClosedLoop terms
                'diff_expr_desc': '肿瘤与正常组织的表达差异',
                'weight': '权重',
                'survival_assoc_desc': '基因表达与患者生存的相关性',
                'cnv_driver_desc': '驱动表达的拷贝数改变',
                'meth_reg_desc': '表观遗传调控模式',
                'mut_freq_desc': '队列中的复发性突变',
                'causal_score_desc': '所有证据类型的加权整合',
                'high_conf_desc': '评分≥0.7，强多证据支持',
                'med_conf_desc': '评分0.4-0.7，中等证据',
                'low_conf_desc': '评分<0.4，有限证据',
                'bootstrap_desc': '跨重采样数据集的一致性',
                'cv_desc': '保留样本的性能',
                'pathway_desc': '癌症相关通路富集',
                'causal_network_desc': '因果关系的交互式可视化',
                
                # Additional dashboard terms
                'comprehensive_results': '综合分析结果',
                'results_desc': '肝癌多维度分析平台的完整分析结果展示',
                'data_center': '数据管理中心',
                'data_center_desc': '上传、验证和管理您的分析数据',
                'data_management_desc': '数据上传、模板下载和数据质量管理的统一界面',
                'data_requirements': '数据要求',
                'clinical_info_desc': '患者生存时间、状态等临床信息',
                'expression_matrix_desc': '基因表达矩阵 (样本 × 基因)',
                'mutation_annotation_desc': '基因突变注释信息',
                'drag_drop_hint': '拖拽文件到此处或点击选择文件',
                'start_analysis': '开始分析',
                'help_settings': '帮助与设置',
                'help_desc': '平台使用指南、API文档和系统设置',
                'user_guide': '使用指南',
                'api_docs': 'API文档',
                'system_settings': '系统设置',
                'guide_step1': '点击"平台概览"了解系统功能',
                'guide_step2': '在"分析结果"中查看演示数据分析',
                'guide_step3': '使用"数据管理"上传您的数据',
                'guide_step4': '运行"生存分析"进行深入研究',
                'tip1': '首次使用建议先查看演示结果了解输出格式',
                'tip2': '上传数据前请下载并参考数据模板',
                'tip3': '分析结果可以导出为多种格式',
                'tip4': '结合生存分析验证候选靶点的临床意义',
                'gene_name': '基因名称',
                'data_validation_desc': '数据质量检查和格式验证功能',
                'feature_developing': '此功能正在开发中',
                'settings_desc': '平台参数配置和个性化设置',
                'settings_developing': '设置功能正在开发中',
                'key_targets': '关键靶点',
                'comprehensive_charts': '综合图表',
                'data_upload': '数据上传',
                'data_templates': '数据模板',
                'data_validation': '数据验证',
                'stage1_title': '第一阶段：多维度分析',
                'stage1_desc': '识别肿瘤细胞、免疫细胞、基质细胞、细胞外基质和细胞因子相关的预后基因',
                'stage2_title': '第二阶段：网络整合',
                'stage2_desc': '构建基因共表达网络，识别网络中心节点和功能模块',
                'stage3_title': '第三阶段：关键靶点发现',
                'stage3_desc': '整合多维度信息，计算Linchpin评分，优先排序治疗靶点',
                'scoring_system': '评分系统',
                'scoring_formula': 'Linchpin评分 = 0.4×预后评分 + 0.3×网络中心性 + 0.2×跨维度连接性 + 0.1×调控潜力',
                'usage_tips': '使用建议',
                'scoring_indicators_explanation': '评分指标说明',
                'linchpin_node_score': '关键节点评分',
                'comprehensive_score_desc': '综合评分，整合多个维度的重要性指标。',
                'prognostic_analysis_desc': '基于Cox回归分析的生存预测能力评分。',
                'network_importance_desc': '在分子相互作用网络中的重要程度评分。',
                'calculation_method': '计算方法',
                'data_validation_check': '数据验证',
                'data_validation_description': '数据质量检查和格式验证功能',
                'api_documentation': 'API文档',
                'api_documentation_desc': 'RESTful API接口说明和使用示例',
                'api_docs_developing': 'API文档功能正在开发中',
                'system_settings_config': '系统设置',
                'system_settings_description': '平台参数配置和个性化设置',
                
                # Additional terms for unified dashboard
                'multidim_integration_results': '多维度生物学分析整合结果',
                'clinical_expression_analysis': '临床生存数据 + 基因表达数据的统计关联分析',
                'centrality_calculation': 'degree_centrality + betweenness_centrality + closeness_centrality 综合标准化',
                'network_data_sources': '基因表达相关性网络 + 蛋白质相互作用网络(STRING数据库)',
                'select_gene_for_analysis': '选择基因进行分析',
                'survival_time_months': '生存时间（月）',
                'survival_probability': '生存概率',
                'survival_curve_interpretation': '生存曲线解读',
                'hazard_ratio': '风险比',
                'confidence_interval': '置信区间',
                'median_survival': '中位生存期',
                'one_year_survival': '1年生存率',
                'three_year_survival': '3年生存率',
                'five_year_survival': '5年生存率',
                'download_plot': '下载图表',
                'export_data': '导出数据',
                'view_details': '查看详情',
                'back_to_list': '返回列表',
                'filter_by': '筛选条件',
                'sort_by': '排序方式',
                'ascending': '升序',
                'descending': '降序',
                'refresh': '刷新',
                'loading': '加载中...',
                'no_data': '暂无数据',
                'error_occurred': '发生错误',
                'please_try_again': '请重试',
                'success': '成功',
                'warning': '警告',
                'info': '信息',
                'confirm': '确认',
                'cancel': '取消',
                'save': '保存',
                'delete': '删除',
                'edit': '编辑',
                'add': '添加',
                'search': '搜索',
                'filter': '筛选',
                'export': '导出',
                'import': '导入',
                'upload': '上传',
                'download_template': '下载模板',
                'file_format': '文件格式',
                'file_size': '文件大小',
                'upload_progress': '上传进度',
                'processing': '处理中',
                'completed': '已完成',
                'failed': '失败',
                'pending': '待处理',
                'view_log': '查看日志',
                'clear_log': '清除日志',
                'settings': '设置',
                'language': '语言',
                'theme': '主题',
                'dark_mode': '深色模式',
                'light_mode': '浅色模式',
                'auto': '自动',
                'notifications': '通知',
                'email_notifications': '邮件通知',
                'browser_notifications': '浏览器通知',
                'account': '账户',
                'profile': '个人资料',
                'logout': '退出登录',
                'help': '帮助',
                'documentation': '文档',
                'tutorial': '教程',
                'faq': '常见问题',
                'contact_support': '联系支持',
                'version': '版本',
                'last_updated': '最后更新',
                'copyright': '版权所有',
                'all_rights_reserved': '保留所有权利',
                
                # Platform capabilities details
                'cox_modeling': 'Cox比例风险建模',
                'immune_deconvolution': '免疫浸润反卷积',
                'pathway_enrichment_analysis': '通路富集分析',
                'wgcna_module': 'WGCNA模块检测',
                'network_centrality_analysis': '网络中心性分析',
                'cross_dimensional_correlations': '跨维度相关性',
                'prognostic_importance': '预后重要性',
                'network_centrality': '网络中心性',
                'cross_dimensional_impact': '跨维度影响',
                'regulatory_potential': '调控潜力',
                'prognostic_factor_identification': '预后因子识别',
                'hub_module_detection': '中心和模块检测',
                'therapeutic_target_prioritization': '治疗靶点优先排序'
            },
            
            'en': {
                # Navigation  
                'nav_overview': 'Overview',
                'nav_demo': 'Demo Results',
                'nav_upload': 'Upload Data', 
                'nav_linchpins': 'Linchpins',
                'nav_networks': 'Networks',
                'nav_multidim': 'Multi-dimensional',
                'nav_survival': 'Survival Analysis',
                'nav_multiomics': 'Multi-omics',
                'nav_closedloop': 'ClosedLoop',
                'nav_templates': 'Templates',
                
                # Overview page
                'overview_title': 'LIHC Multi-dimensional Prognostic Analysis Platform',
                'overview_subtitle': 'Advanced therapeutic target discovery through integrated omics analysis',
                'overview_description': 'Discover key therapeutic targets through five-dimensional tumor microenvironment analysis',
                'from_biomarker_to_targets': 'From Biomarker Lists to Strategic Targets',
                'platform_intro': 'Transform traditional parallel analysis into integrated linchpin discovery. Our platform identifies the most critical therapeutic targets by analyzing 5 biological dimensions simultaneously.',
                'explore_demo': 'Explore Demo',
                'upload_data': 'Upload Data',
                
                # Scoring indicators
                'scoring_guide': 'Quick Scoring Guide',
                'scoring_intro': 'The platform uses three core indicators to assess gene potential as therapeutic targets:',
                'linchpin_score': 'Linchpin Score',
                'linchpin_desc': 'Comprehensive Score (0-1)',
                'linchpin_detail': 'Final score integrating multi-dimensional analysis results, higher scores indicate greater potential as therapeutic targets',
                'prognostic_score': 'Prognostic Score',
                'prognostic_desc': 'Prognostic Score (0-1)', 
                'prognostic_detail': 'Based on Cox regression analysis, reflects the association strength between gene expression and patient survival',
                'network_hub_score': 'Network Hub Score',
                'network_desc': 'Network Centrality Score (0-1)',
                'network_detail': 'Importance in molecular interaction networks, reflecting gene connectivity and regulatory influence',
                'usage_tip': 'Usage Tip',
                'usage_detail': 'View detailed calculation methods and data source descriptions on the Demo page',
                
                # Platform capabilities
                'platform_capabilities': 'Platform Capabilities',
                'multidim_analysis': 'Multi-dimensional Analysis',
                'multidim_desc': 'Simultaneous analysis across tumor, immune, stromal, ECM, and cytokine dimensions',
                'network_integration': 'Network Integration',
                'network_integration_desc': 'Cross-dimensional network analysis for hub identification',
                'linchpin_scoring': 'Linchpin Scoring',
                'linchpin_scoring_desc': 'Composite scoring system for therapeutic prioritization',
                
                # Analysis workflow
                'analysis_workflow': 'Analysis Workflow',
                'data_upload': 'Data Upload',
                'data_upload_desc': 'Clinical, expression, and mutation data',
                'multidim_analysis_step': 'Multi-dimensional Analysis',
                'multidim_desc_step': 'Parallel analysis across 5 dimensions',
                'network_integration_step': 'Network Integration',
                'network_desc_step': 'Cross-dimensional network construction',
                'linchpin_discovery': 'Linchpin Discovery',
                'linchpin_desc_step': 'Composite scoring and ranking',
                
                # Demo page
                'demo_title': 'Demo Analysis Results',
                'demo_subtitle': 'Comprehensive TCGA-LIHC analysis demonstrating platform capabilities',
                'top_linchpin_molecules': 'Top Linchpin Molecules',
                'no_linchpin_results': 'No linchpin analysis results available. Run the complete pipeline to see results.',
                'scoring_explanation': 'Scoring Indicators Explanation',
                'calculation_formula': 'Calculation Formula',
                'data_source': 'Data Source',
                'interpretation_guide': 'Score Interpretation Guide',
                'score_range': 'Score Range: 0.0 - 1.0 (Higher scores indicate greater potential as therapeutic targets)',
                'excellent_target': 'Excellent Targets (≥0.8): Strongly recommended with strong evidence support',
                'good_target': 'Good Targets (0.6-0.8): Worth attention with strong evidence',
                'potential_target': 'Potential Targets (0.4-0.6): Require further validation',
                'insufficient_evidence': 'Insufficient Evidence (<0.4): Not recommended as therapeutic targets',
                
                # Multi-dimensional analysis
                'multidim_analysis_title': 'Multi-dimensional Analysis',
                'tumor_cells': 'Tumor Cells',
                'immune_cells': 'Immune Cells',
                'stromal_cells': 'Stromal Cells', 
                'ecm': 'ECM',
                'cytokines': 'Cytokines',
                'genes': 'genes',
                'factors': 'factors',
                'signals': 'signals',
                'oncogenes_suppressors': 'Oncogenes & suppressors',
                'immune_infiltration': 'Immune infiltration',
                'microenvironment': 'Microenvironment',
                'extracellular_matrix': 'Extracellular matrix',
                'signaling_molecules': 'Signaling molecules',
                
                # Network analysis
                'network_analysis': 'Network Analysis',
                'network_nodes': 'Network Nodes',
                'connected_genes': 'Connected genes',
                'hub_genes': 'Hub Genes',
                'high_centrality': 'High centrality',
                'modules': 'Modules',
                'functional_clusters': 'Functional clusters',
                
                # Survival analysis
                'survival_analysis': 'Survival Analysis',
                'target_genes': 'Target Genes',
                'available_for_analysis': 'Available for analysis',
                'patient_cohort': 'Patient Cohort',
                'tcga_samples': 'TCGA-LIHC samples',
                'analysis_types': 'Analysis Types',
                'os_rfs_endpoints': 'OS & RFS endpoints',
                'kaplan_meier': 'Kaplan-Meier',
                'with_logrank_test': 'With Log-rank test',
                'functional_features': 'Functional Features',
                'survival_features_desc': 'Generate Kaplan-Meier survival curves for target genes, supporting both Overall Survival (OS) and Recurrence-Free Survival (RFS) analysis.',
                'analysis_method': 'Analysis Method',
                'analysis_method_desc': 'Group patients by median gene expression, compare groups using Log-rank test, P<0.05 considered statistically significant.',
                'try_survival_analysis': 'Try Survival Analysis',
                
                # Upload page
                'upload_title': 'Upload Your Data',
                'upload_subtitle': 'Upload your LIHC dataset for personalized analysis',
                'data_requirements': 'Data Requirements',
                'clinical_data': 'Clinical Data',
                'clinical_desc': 'Patient survival and clinical information (required)',
                'expression_data': 'Expression Data',
                'expression_desc': 'Gene expression matrix (required)',
                'mutation_data': 'Mutation Data',
                'mutation_desc': 'Somatic mutation information (optional)',
                'drag_drop_files': 'Drag & drop files here or click to browse',
                'supported_formats': 'Supports: CSV, TSV, Excel, ZIP',
                'run_analysis': 'Run Analysis',
                
                # Templates page
                'templates_title': 'Data Templates',
                'templates_subtitle': 'Download templates to format your data correctly',
                'clinical_template': 'Clinical Data Template',
                'clinical_template_desc': 'Patient survival and clinical information',
                'expression_template': 'Expression Data Template',
                'expression_template_desc': 'Gene expression matrix',
                'mutation_template': 'Mutation Data Template',
                'mutation_template_desc': 'Somatic mutation information',
                'download': 'Download',
                'required_fields': 'Required fields',
                'format_desc': 'Format: Genes as rows, samples as columns',
                
                # Charts and visualization
                'score_comparison_analysis': 'Score Comparison Analysis',
                'professional_chart_desc': 'Professional chart-based comparative analysis for more intuitive data presentation',
                'score_comparison_bar': 'Score Comparison Bar Chart',
                'multidim_radar': 'Multi-dimensional Radar Chart',
                'score_correlation_scatter': 'Score Correlation Scatter Plot',
                'multidim_analysis_charts': 'Multi-dimensional Analysis Charts',
                'comprehensive_viz': 'Comprehensive visualization of five biological dimensions',
                'dimension_distribution': 'Dimension Distribution',
                'dimension_comparison': 'Dimension Comparison',
                'network_analysis_charts': 'Network Analysis Charts',
                'interactive_network_viz': 'Interactive network visualization and centrality analysis',
                'centrality_distribution': 'Centrality Distribution',
                
                # Gene selection (Survival Analysis)
                'gene_selection': 'Gene Selection',
                'target_gene': 'Target Gene',
                'dataset': 'Dataset',
                'generate_survival_curves': 'Generate Survival Curves',
                'grouping_strategy': 'Grouping Strategy',
                'grouping_desc': 'Patients are divided into High and Low expression groups based on the median expression level of the selected gene.',
                'analysis_endpoints': 'Analysis Endpoints',
                'overall_survival': 'Overall Survival (OS)',
                'os_desc': 'Time from diagnosis to death',
                'recurrence_free_survival': 'Recurrence-Free Survival (RFS)',
                'rfs_desc': 'Time to disease recurrence',
                'kaplan_meier_method': 'Kaplan-Meier Method',
                'km_desc': 'Non-parametric survival probability estimation accounting for censored observations.',
                'logrank_test': 'Log-rank Test',
                'logrank_desc': 'Statistical comparison of survival curves between expression groups (p < 0.05 considered significant).',
                
                # Analysis results
                'analysis_results': 'Analysis Results',
                'kaplan_meier_curves': 'Kaplan-Meier Survival Curves',
                'interpretation_guide_title': 'Interpretation Guide',
                'red_curve': 'Red curve',
                'high_expression_group': 'High expression group',
                'blue_curve': 'Blue curve',
                'low_expression_group': 'Low expression group',
                'p_less_005': 'P < 0.05',
                'statistically_significant': 'Statistically significant difference',
                'higher_curve': 'Higher curve',
                'better_survival': 'Better survival probability',
                'clinical_interpretation': 'Clinical Interpretation',
                'prognostic_value': 'Prognostic Value',
                'therapeutic_implications': 'Therapeutic Implications',
                
                # Status indicators
                'total_samples': 'Total Samples',
                'high_expression': 'High Expression',
                'low_expression': 'Low Expression',
                'logrank_pvalue': 'Log-rank p-value',
                'result': 'Result',
                'significant': 'Significant',
                'not_significant': 'Not Significant',
                'analysis_error': 'Analysis Error',
                'analysis_failed': 'Analysis Failed',
                
                # Common terms
                'gene': 'Gene',
                'score': 'Score',
                'samples': 'samples',
                'months': 'months',
                'probability': 'probability',
                'time': 'time',
                'frequency': 'frequency',
                'distribution': 'distribution',
                'comparison': 'comparison',
                'correlation': 'correlation',
                'analysis': 'analysis',
                'visualization': 'visualization',
                'interactive': 'interactive',
                'professional': 'professional',
                'comprehensive': 'comprehensive',
                'multiple_formats': 'Multiple format support',
                'real_time_validation': 'Real-time validation',
                'quick_navigation': 'Quick navigation',
                
                # Multi-omics integration (New Feature)
                'multiomics_integration': 'Multi-omics Integration',
                'multiomics_desc': 'Integrate RNA-seq, CNV, mutation and methylation data for comprehensive analysis',
                'integration_methods': 'Integration Methods',
                'concatenation': 'Simple Concatenation',
                'concat_desc': 'Direct merging of all omics features',
                'snf': 'Similarity Network Fusion',
                'snf_desc': 'Network-based integration using sample similarities',
                'mofa': 'Multi-Omics Factor Analysis',
                'mofa_desc': 'Discover latent factors across omics',
                'cnv_data': 'CNV Data',
                'methylation_data': 'Methylation Data',
                'feature_importance': 'Feature Importance',
                'integrated_features': 'Integrated Features',
                'omics_types': 'Omics Types',
                
                # ClosedLoop analysis (New Feature)
                'closedloop_analysis': 'ClosedLoop Causal Analysis',
                'closedloop_desc': 'Multi-evidence causal inference to identify cancer driver genes',
                'evidence_types': 'Evidence Types',
                'differential_expression': 'Differential Expression',
                'survival_association': 'Survival Association',
                'cnv_driver': 'CNV Driver',
                'methylation_regulation': 'Methylation Regulation',
                'mutation_frequency': 'Mutation Frequency',
                'causal_score': 'Causal Score',
                'causal_genes': 'Causal Genes',
                'evidence_chain': 'Evidence Chain',
                'causal_network': 'Causal Network',
                'high_confidence': 'High Confidence',
                'medium_confidence': 'Medium Confidence',
                'low_confidence': 'Low Confidence',
                'validation_metrics': 'Validation Metrics',
                'bootstrap_stability': 'Bootstrap Stability',
                'cross_validation': 'Cross Validation',
                'pathway_enrichment': 'Pathway Enrichment',
                
                # Additional multi-omics terms
                'simple_fast': 'Simple and fast',
                'preserves_features': 'Preserves all features',
                'high_dimensional': 'High-dimensional output',
                'network_based': 'Network-based integration',
                'robust_noise': 'Robust to noise',
                'captures_similarity': 'Captures sample similarities',
                'factor_based': 'Factor-based approach',
                'dimension_reduction': 'Dimension reduction',
                'interpretable': 'Interpretable factors',
                'rna_seq_desc': 'RNA-seq gene expression profiles',
                'cnv_desc': 'Copy number variation data',
                'mutation_desc': 'Somatic mutation profiles',
                'methylation_desc': 'DNA methylation levels',
                'feature_importance_desc': 'Integrated features are ranked by their contribution to the model',
                
                # Additional ClosedLoop terms
                'diff_expr_desc': 'Tumor vs normal tissue expression differences',
                'weight': 'Weight',
                'survival_assoc_desc': 'Gene expression correlation with patient survival',
                'cnv_driver_desc': 'Copy number alterations driving expression',
                'meth_reg_desc': 'Epigenetic regulation patterns',
                'mut_freq_desc': 'Recurrent mutations in cohort',
                'causal_score_desc': 'Weighted integration of all evidence types',
                'high_conf_desc': 'Score ≥ 0.7, strong multi-evidence support',
                'med_conf_desc': 'Score 0.4-0.7, moderate evidence',
                'low_conf_desc': 'Score < 0.4, limited evidence',
                'bootstrap_desc': 'Consistency across resampled datasets',
                'cv_desc': 'Performance on held-out samples',
                'pathway_desc': 'Cancer-related pathway enrichment',
                'causal_network_desc': 'Interactive visualization of causal relationships',
                
                # Additional dashboard terms
                'comprehensive_results': 'Comprehensive Analysis Results',
                'results_desc': 'Complete analysis results from LIHC multi-dimensional analysis platform',
                'data_center': 'Data Management Center',
                'data_center_desc': 'Upload, validate and manage your analysis data',
                'data_management_desc': 'Unified interface for data upload, template download and quality management',
                'data_requirements': 'Data Requirements',
                'clinical_info_desc': 'Patient survival time, status and other clinical information',
                'expression_matrix_desc': 'Gene expression matrix (samples × genes)',
                'mutation_annotation_desc': 'Gene mutation annotation information',
                'drag_drop_hint': 'Drag and drop files here or click to browse',
                'start_analysis': 'Start Analysis',
                'help_settings': 'Help & Settings',
                'help_desc': 'Platform user guide, API documentation and system settings',
                'user_guide': 'User Guide',
                'api_docs': 'API Docs',
                'system_settings': 'System Settings',
                'guide_step1': 'Click "Overview" to understand system features',
                'guide_step2': 'View demo data analysis in "Results"',
                'guide_step3': 'Upload your data using "Data Management"',
                'guide_step4': 'Run "Survival Analysis" for in-depth research',
                'tip1': 'First-time users should review demo results to understand output format',
                'tip2': 'Download and refer to data templates before uploading',
                'tip3': 'Analysis results can be exported in multiple formats',
                'tip4': 'Validate candidate targets with survival analysis for clinical significance',
                'gene_name': 'Gene Name',
                'data_validation_desc': 'Data quality check and format validation',
                'feature_developing': 'This feature is under development',
                'settings_desc': 'Platform parameter configuration and personalization',
                'settings_developing': 'Settings feature is under development',
                'key_targets': 'Key Targets',
                'comprehensive_charts': 'Comprehensive Charts',
                'data_upload': 'Data Upload',
                'data_templates': 'Data Templates',
                'data_validation': 'Data Validation',
                'stage1_title': 'Stage 1: Multi-dimensional Analysis',
                'stage1_desc': 'Identify prognostic genes related to tumor cells, immune cells, stromal cells, ECM and cytokines',
                'stage2_title': 'Stage 2: Network Integration',
                'stage2_desc': 'Build gene co-expression networks, identify network hubs and functional modules',
                'stage3_title': 'Stage 3: Linchpin Discovery',
                'stage3_desc': 'Integrate multi-dimensional information, calculate Linchpin scores, prioritize therapeutic targets',
                'scoring_system': 'Scoring System',
                'scoring_formula': 'Linchpin Score = 0.4×Prognostic + 0.3×Network Centrality + 0.2×Cross-dimension + 0.1×Regulatory',
                'usage_tips': 'Usage Tips',
                'scoring_indicators_explanation': 'Scoring Indicators Explanation',
                'linchpin_node_score': 'Linchpin Node Score',
                'comprehensive_score_desc': 'Comprehensive score integrating importance indicators from multiple dimensions.',
                'prognostic_analysis_desc': 'Survival prediction capability score based on Cox regression analysis.',
                'network_importance_desc': 'Importance score in molecular interaction networks.',
                'calculation_method': 'Calculation Method',
                'data_validation_check': 'Data Validation',
                'data_validation_description': 'Data quality check and format validation functionality',
                'api_documentation': 'API Documentation',
                'api_documentation_desc': 'RESTful API interface documentation and usage examples',
                'api_docs_developing': 'API documentation is under development',
                'system_settings_config': 'System Settings',
                'system_settings_description': 'Platform parameter configuration and personalization settings',
                
                # Additional terms for unified dashboard
                'multidim_integration_results': 'Multi-dimensional biological analysis integration results',
                'clinical_expression_analysis': 'Clinical survival data + gene expression statistical association analysis',
                'centrality_calculation': 'degree_centrality + betweenness_centrality + closeness_centrality normalized',
                'network_data_sources': 'Gene expression correlation network + protein interaction network (STRING database)',
                'select_gene_for_analysis': 'Select gene for analysis',
                'survival_time_months': 'Survival Time (months)',
                'survival_probability': 'Survival Probability',
                'survival_curve_interpretation': 'Survival Curve Interpretation',
                'hazard_ratio': 'Hazard Ratio',
                'confidence_interval': 'Confidence Interval',
                'median_survival': 'Median Survival',
                'one_year_survival': '1-Year Survival Rate',
                'three_year_survival': '3-Year Survival Rate',
                'five_year_survival': '5-Year Survival Rate',
                'download_plot': 'Download Plot',
                'export_data': 'Export Data',
                'view_details': 'View Details',
                'back_to_list': 'Back to List',
                'filter_by': 'Filter By',
                'sort_by': 'Sort By',
                'ascending': 'Ascending',
                'descending': 'Descending',
                'refresh': 'Refresh',
                'loading': 'Loading...',
                'no_data': 'No Data Available',
                'error_occurred': 'An Error Occurred',
                'please_try_again': 'Please Try Again',
                'success': 'Success',
                'warning': 'Warning',
                'info': 'Information',
                'confirm': 'Confirm',
                'cancel': 'Cancel',
                'save': 'Save',
                'delete': 'Delete',
                'edit': 'Edit',
                'add': 'Add',
                'search': 'Search',
                'filter': 'Filter',
                'export': 'Export',
                'import': 'Import',
                'upload': 'Upload',
                'download_template': 'Download Template',
                'file_format': 'File Format',
                'file_size': 'File Size',
                'upload_progress': 'Upload Progress',
                'processing': 'Processing',
                'completed': 'Completed',
                'failed': 'Failed',
                'pending': 'Pending',
                'view_log': 'View Log',
                'clear_log': 'Clear Log',
                'settings': 'Settings',
                'language': 'Language',
                'theme': 'Theme',
                'dark_mode': 'Dark Mode',
                'light_mode': 'Light Mode',
                'auto': 'Auto',
                'notifications': 'Notifications',
                'email_notifications': 'Email Notifications',
                'browser_notifications': 'Browser Notifications',
                'account': 'Account',
                'profile': 'Profile',
                'logout': 'Logout',
                'help': 'Help',
                'documentation': 'Documentation',
                'tutorial': 'Tutorial',
                'faq': 'FAQ',
                'contact_support': 'Contact Support',
                'version': 'Version',
                'last_updated': 'Last Updated',
                'copyright': 'Copyright',
                'all_rights_reserved': 'All Rights Reserved',
                
                # Platform capabilities details
                'cox_modeling': 'Cox proportional hazards modeling',
                'immune_deconvolution': 'Immune infiltration deconvolution',
                'pathway_enrichment_analysis': 'Pathway enrichment analysis',
                'wgcna_module': 'WGCNA-style module detection',
                'network_centrality_analysis': 'Network centrality analysis',
                'cross_dimensional_correlations': 'Cross-dimensional correlations',
                'prognostic_importance': 'Prognostic importance',
                'network_centrality': 'Network centrality',
                'cross_dimensional_impact': 'Cross-dimensional impact',
                'regulatory_potential': 'Regulatory potential',
                'prognostic_factor_identification': 'Prognostic factor identification',
                'hub_module_detection': 'Hub and module detection',
                'therapeutic_target_prioritization': 'Therapeutic target prioritization'
            }
        }
    
    def set_language(self, language):
        """Set current language"""
        if language in self.translations:
            self.current_language = language
            return True
        return False
    
    def get_text(self, key, fallback=None):
        """Get translated text for current language"""
        if fallback is None:
            fallback = key
            
        return self.translations.get(self.current_language, {}).get(key, fallback)
    
    def get_current_language(self):
        """Get current language"""
        return self.current_language
    
    def get_available_languages(self):
        """Get list of available languages"""
        return list(self.translations.keys())

# Global instance
i18n = I18nManager()